{"ast":null,"code":"var _jsxFileName = \"/home/bjacobson/Development/code/phase-4/project-4-v3/client/src/pages/Login.js\",\n  _s = $RefreshSig$();\n// import NavBar from \"../components/NavBar\";\n\nimport React from \"react\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport { useState, setErrors } from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst loginValidationSchema = yup.object().shape({\n  username: yup.string().min(1, ({\n    min\n  }) => `Username must be at least ${min} characters`).required('Username is Required'),\n  password: yup.string().min(1, ({\n    min\n  }) => `Password must be at least ${min} characters`).required('Password is required')\n});\nfunction Login({\n  setUser\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  function handleSubmit(e) {\n    e.preventDefault();\n    //setIsLoading(true);\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    }).then(r => {\n      //setIsLoading(false);\n      if (r.ok) {\n        r.json().then(user => setUser(user));\n        console.log(\"Logged in and redirecting to /home\");\n        navigate(\"/home\");\n      } else {\n        // r.json().then((err) => setErrors(err.errors));\n        console.log(\"There was an issue with response OK logging in Ben\");\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        class: \"max-w-sm mx-auto\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",\n            htmlFor: \"username\",\n            children: \"Username: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",\n            id: \"username\",\n            type: \"text\",\n            name: \"username\",\n            placeholder: \"Username\",\n            autoComplete: \"current-username\",\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",\n            htmlFor: \"password\",\n            children: \"Password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",\n            id: \"password\",\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            autoComplete: \"current-password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"9ByEJj0fDwRXGCKeqp+9669dMm8=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\n;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Formik","yup","useState","setErrors","Navigate","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","loginValidationSchema","object","shape","username","string","min","required","password","Login","setUser","_s","navigate","setUsername","setPassword","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","ok","json","user","console","log","children","class","onSubmit","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","type","name","placeholder","autoComplete","value","onChange","target","_c","$RefreshReg$"],"sources":["/home/bjacobson/Development/code/phase-4/project-4-v3/client/src/pages/Login.js"],"sourcesContent":["// import NavBar from \"../components/NavBar\";\n\nimport React from \"react\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\n\nimport { useState,setErrors } from \"react\";\nimport { Navigate, useNavigate} from \"react-router-dom\";\n\nconst loginValidationSchema = yup.object().shape({\n  username: yup.string().min(1, ({ min }) => `Username must be at least ${min} characters`).required('Username is Required'),\n  password: yup.string().min(1, ({ min }) => `Password must be at least ${min} characters`).required('Password is required'),\n})\n\nfunction Login({setUser}) {\n  const navigate = useNavigate()\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    //setIsLoading(true);\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    }).then((r) => {\n      //setIsLoading(false);\n      if (r.ok) {\n        r.json().then((user) => setUser(user));\n        console.log(\"Logged in and redirecting to /home\")\n        navigate(\"/home\");\n      } else {\n        // r.json().then((err) => setErrors(err.errors));\n        console.log(\"There was an issue with response OK logging in Ben\")\n      }\n    });\n  }\n\n  return (\n    <>\n      <main>\n\n        <form class=\"max-w-sm mx-auto\" onSubmit={handleSubmit}>\n          <div>\n            <label class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\" htmlFor=\"username\">Username: </label>\n            <input class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n            id=\"username\" \n            type=\"text\" \n            name=\"username\" \n            placeholder=\"Username\" \n            autoComplete=\"current-username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}/>\n          </div>\n          <br/>\n          <div>\n            <label class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\" htmlFor=\"password\">Password: </label>\n            <input class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n            id=\"password\" \n            type=\"password\" \n            name=\"password\" \n            placeholder=\"Password\" \n            autoComplete=\"current-password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <br/>\n          <button class=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n          type=\"submit\">Submit</button>\n        </form>\n\n      </main>\n    </>\n  )\n\n\n\n\n  \n\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}